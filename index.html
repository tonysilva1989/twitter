<html>
  <head>
    <meta charset="utf-8">
    <title>Timeline</title>
	<link rel="stylesheet" href="timeline.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css"> 
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
  </head>
  <body>
    <div ng-app="myApp" ng-controller="myCtrl">
	<div class="container">
	<div class="row">
		<h2>Posts</h2>
	</div>
    <div class="qa-message-list" id="wallmessages" ng-repeat="post in posts">
    				<div class="message-item" id="m16">
						<div class="message-inner">
							<div class="message-head clearfix">
								<div class="avatar pull-left"><a href="./index.php?qa=user&qa_1=Oleg+Kolesnichenko"><img src="{{post.user.picture}}"></a></div>
								<div class="user-detail">
									<h5 class="handle">{{post.user.username}}</h5>
									<div class="post-meta">
										<div class="asker-meta">
											<span class="qa-message-when">
												<span class="qa-message-when-data">{{post.date}}</span>
											</span>
										</div>
									</div>
								</div>
							</div>
							<div class="qa-message-content">
								{{post.content}}
							</div>
							<div class="number-likes">
							<a href="#"><span class="badge">{{post.likes}} {{post.user.friends < 2 ? 'like' : 'likes'}}</span></a>
							</div>
							
					</div></div>
					
					
					
				</div>
	</div>
	  
    </div>

    
    <script>
      var app = angular.module('myApp', []);

      app.controller('myCtrl', function($scope, $http) {
          $http.get('timeline.json').then(function(response){
		  	  var like;
              $scope.posts = response.data;  
			  
			  //verificando se ha so 1 like ou ha mais likes, pra deixar no singular ou plural
			  if ($scope.posts.likes == 1)
			  {
				$scope.like = "like";
			  }
			  else
			  {
				$scope.like = "likes";
			  }
          });
      });
    </script>
  </body>
</html>